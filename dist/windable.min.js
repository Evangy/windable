!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=a("./wind/wind");window.WindMap=d.WindMap},{"./wind/wind":5}],2:[function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?100:arguments[1],c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=void 0;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function e(){return!!document.createElement("canvas").getContext}function f(a){var b=String(a.getMonth()+1),c=String(a.getDate()),d=a.getHours();return d=String(6*Math.round(d/6)||0),1===b.length&&(b="0"+b),1===c.length&&(c="0"+c),1===d.length&&(d="0"+d),""+a.getFullYear()+b+c+d}Object.defineProperty(c,"__esModule",{value:!0}),c.debounce=d,c.supportsCanvas=e,c.formatTime=f;c.getAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,50)}}(),c.isValue=function(a){return null!==a&&void 0!==a}},{}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=2*Math.PI,e=Math.pow(10,-5.2),f=function(a,b){return a-b*Math.floor(a/b)},g=function(a){return a/180*Math.PI},h=function(a){return a/(Math.PI/180)},i=function(a,b,c,d,e,f){var g=1-a,h=1-b,i=g*h,j=a*h,k=g*b,l=a*b,m=c[0]*i+d[0]*j+e[0]*k+f[0]*l,n=c[1]*i+d[1]*j+e[1]*k+f[1]*l;return[m,n,Math.sqrt(m*m+n*n)]},j=function(a,b,c,f,g){var h=0>a?e:-e,i=0>b?e:-e,j=l(b,a+h,g),k=l(b+i,a,g),m=Math.cos(b/360*d);return[(j[0]-c)/h/m,(j[1]-f)/h/m,(k[0]-c)/i,(k[1]-f)/i]},k=function(a){return Math.log(Math.tan(a/2+Math.PI/4))},l=function(a,b,c){var d=k(c.south),e=k(c.north),f=c.width/(c.east-c.west),g=c.height/(e-d),h=k(n.deg2rad(a)),i=(n.deg2rad(b)-c.west)*f;return[i,(e-h)*g]},m=function(a,b,c){var d=c.east-c.west,e=c.width/n.rad2deg(d)*360/(2*Math.PI),f=e/2*Math.log((1+Math.sin(c.south))/(1-Math.sin(c.south))),g=c.height+f,h=(g-b)/e,i=180/Math.PI*(2*Math.atan(Math.exp(h))-Math.PI/2),j=n.rad2deg(c.west)+a/c.width*n.rad2deg(d);return[j,i]},n=c.math={deg2rad:g,bilinearInterpolateVector:i,distortion:j,floorMod:f,invert:m,rad2deg:h}},{}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.palettes={YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],PuRed:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],OrRed:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Blues:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]}},{}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c.WindMap=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("../utilities/functions"),g=a("../utilities/palettes"),h=a("./windy");c.WindMap=function(){function a(b){var c=this;if(d(this,a),!(0,f.supportsCanvas)())throw new Error("Browser does not support canvas.");this.config_={canvas:b.canvas,extent:b.extent,data:b.data,colorScheme:b.colorScheme||g.palettes.Purples},this.palettes=g.palettes,this.windy_=new h.Windy({canvas:b.canvas}),this.startWindy_=(0,f.debounce)(function(){c.windy_.start(c.config_)}),this.update(b)}return e(a,[{key:"stop",value:function(){return this.windy_.stop(),this}},{key:"start",value:function(){return this.startWindy_(),this}},{key:"update",value:function(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.stop(),Object.assign(this.config_,{colorScheme:a.colorScheme||this.config_.colorScheme,velocityScale:a.velocityScale||this.config_.velocityScale,particleWidth:a.particleWidth||this.config_.particleWidth,particleFadeOpacity:a.particleFadeOpacity||this.config_.particleFadeOpacity,particleReduction:a.particleReduction||this.config_.particleReduction}),this.config_.data=a.data||this.config_.data,this.start()}}]),a}()},{"../utilities/functions":2,"../utilities/palettes":4,"./windy":6}],6:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Windy=void 0;var d=a("../utilities/functions"),e=a("../utilities/math");c.Windy=function(a){var b=30,c=100,f=[NaN,NaN,null],g=[],h=.97,i=5e-6,j=2,k=.1,l=function(a){for(var b=a[0],c=a[1],f=function(a){return[b.data[a],c.data[a]]},g=b.header.lo1,h=b.header.la1,i=b.header.dx,j=b.header.dy,k=b.header.nx,l=b.header.ny,m=[],n=Math.floor(k*i)>=360,o=0,p=0;l>p;p++){for(var q=[],r=0;k>r;r++,o++)q[r]=f(o);n&&q.push(q[0]),m[p]=q}return function(a,b){var c=e.math.floorMod(a-g,360)/i,f=(h-b)/j,k=Math.floor(c),l=k+1,n=Math.floor(f),o=n+1,p=void 0;if(p=m[n]){var q=p[k],r=p[l];if((0,d.isValue)(q)&&(0,d.isValue)(r)&&(p=m[o])){var s=p[k],t=p[l];if((0,d.isValue)(s)&&(0,d.isValue)(t))return e.math.bilinearInterpolateVector(c-k,f-n,q,r,s,t)}}return null}},m=function(a,b,c,d,f,g,h){var i=g[0]*f,j=g[1]*f,k=e.math.distortion(a,b,c,d,h);return g[0]=k[0]*i+k[2]*j,g[1]=k[1]*i+k[3]*j,g},n=function(a,b){function c(b,c){var d=a[Math.round(b)];return d&&d[Math.round(c)]||f}return c.release=function(){a=[]},c.randomize=function(a){return Object.assign(a,{x:Math.round(Math.floor(Math.random()*b.width)+b.x),y:Math.round(Math.floor(Math.random()*b.height)+b.y)})},c},o=function(a,b,c){var d=a[0],e=a[1],f=Math.round(d[0]),g=Math.max(Math.floor(d[1],0),0),h=(Math.min(Math.ceil(e[0],b),b-1),Math.min(Math.ceil(e[1],c),c-1));return{x:f,y:g,xMax:b,yMax:h,width:b,height:c}},p=function(a,b,c){function d(d){for(var g=[],i=b.y;i<=b.yMax;i+=2){var j=e.math.invert(d,i,c);if(j){var k=j[0],l=j[1];if(isFinite(k)){var n=a(k,l);n&&(n=m(k,l,d,i,f,n,c),g[i+1]=g[i]=n)}}}h[d+1]=h[d]=g}for(var f=b.height*i,g=b.x,h=[];g<b.width;)d(g),g+=2;return n(h,b)},q=function(a,b,d){a.forEach(function(a){a.length=0}),b.forEach(function(b){b.age>c&&(d.randomize(b).age=0);var e=d(b.x,b.y);if(null===e[2])b.age=c;else{var f=b.x+e[0],h=b.y+e[1];null!==d(f,h)[2]?(b.xt=f,b.yt=h,a[g.indexFor(e[2])].push(b)):(b.x=f,b.y=h)}b.age+=1})},r=function(a,b,c){var d=c.globalCompositeOperation;c.globalCompositeOperation="destination-in",c.fillRect(b.x,b.y,b.width,b.height),c.globalCompositeOperation=d,a.forEach(function(a,b){a.length>0&&(c.beginPath(),c.strokeStyle=g[b],a.forEach(function(a){c.moveTo(a.x,a.y),c.lineTo(a.xt,a.yt),a.x=a.xt,a.y=a.yt}),c.stroke())})},s=function(e,f,i){g.indexFor=function(a){var c=g.length-1;return Math.floor(Math.min(a,b)/b*c)};for(var l=g.map(Array),m=i*k,n=[],o=0;m>o;o++)n.push(f.randomize({age:Math.floor(Math.random()*c)}));var p=a.canvas.getContext("2d");p.lineWidth=j,p.fillStyle="rgba(0, 0, 0, "+h+")";var s=0;!function t(){try{w.stop||(s+=1,s>=1e3&&(s=0,v()),(0,d.getAnimationFrame)(t),q(l,n,f),r(l,e,p))}catch(a){console.error(a)}}()},t=function(a){var b=a.extent(),c=b.width,d=b.height,f=b.cropBounds||[[0,0],[c,d]];a.canvas.width=c,a.canvas.height=d,a.canvas.style.width=c+"px",a.canvas.style.height=d+"px";var m={south:e.math.deg2rad(b.latlng[0][1]),north:e.math.deg2rad(b.latlng[1][1]),east:e.math.deg2rad(b.latlng[1][0]),west:e.math.deg2rad(b.latlng[0][0]),width:c,height:d};if(m.west-m.east>0||Math.abs(m.west)-Math.abs(m.east)===0||!a.data)return void(a.boundsExceededCallback&&a.boundsExceededCallback(m));g=a.colorScheme||g,i=a.velocityScale||i,j=a.particleWidth||j,h=a.particleFadeOpacity||h,k=a.particleReduction||k;var n=l(a.data),q=o(f,c,d);w.field=p(n,q,m),w.mapBounds=m,w.stop=!1,s(q,w.field,a.data[0].data.length)},u=function(){v(),w.stop=!0,w.field&&w.field.release()},v=function(){if(w.mapBounds){var b=a.canvas.getContext("2d");b.clearRect(0,0,w.mapBounds.width,w.mapBounds.height),b.resetTransform?b.resetTransform():b.setTransform(1,0,0,1,0,0)}},w={};return{stop:u,start:t}}},{"../utilities/functions":2,"../utilities/math":3}]},{},[1]);